(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{259:function(e,t,a){e.exports=a(526)},264:function(e,t,a){},526:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),l=a.n(o),s=(a(263),a(264),a(18)),c=a(17),i=a(537),m=a(23),u=a(24),d=a(26),h=a(25),p=function(e){window.localStorage.setItem("token",e)},g=function(){return window.localStorage.getItem("token")},E=function(){window.localStorage.removeItem("token")},f=function(){return!!function(){var e=g();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(window.atob(t[1]))}()},v=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1"},r.a.createElement("defs",null,r.a.createElement("filter",{id:"home-0"},r.a.createElement("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"0"}),r.a.createElement("feDisplacementMap",{id:"displacement",in:"SourceGraphic",in2:"noise",scale:"6"})),r.a.createElement("filter",{id:"home-1"},r.a.createElement("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"1"}),r.a.createElement("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"8"})),r.a.createElement("filter",{id:"home-2"},r.a.createElement("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"2"}),r.a.createElement("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"6"})),r.a.createElement("filter",{id:"home-3"},r.a.createElement("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"3"}),r.a.createElement("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"8"})),r.a.createElement("filter",{id:"home-4"},r.a.createElement("feTurbulence",{id:"turbulence",baseFrequency:"0.02",numOctaves:"3",result:"noise",seed:"4"}),r.a.createElement("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"6"}))))},b=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"animate-home"},r.a.createElement("h2",{className:"home-animated-1"},"An"),r.a.createElement("h2",{className:"home-animated-2"},"Exquisite"),r.a.createElement("h2",{className:"home-animated-3"},"Corpse")),f()?r.a.createElement(s.b,{to:"/drawing"},r.a.createElement("button",{className:"home-button"},r.a.createElement("h3",{className:"crimson-s-light"},"Make your Exquisite Corpse"))):r.a.createElement(s.b,{to:"/login"},r.a.createElement("button",{className:"home-button"},r.a.createElement("h3",{className:"home-button"},"Log in to Draw")))),r.a.createElement(v,null))}}]),a}(r.a.Component),y=Object(c.f)(b),C=a(543),w=a(542),S=a(541),O=a(29),k=(a(269),function(e){O.b.success(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),x=function(e){O.b.success(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},N=function(e){O.b.error(e,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},j=function(e){O.b.error(e,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},M=function(e){O.b.info(e,{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},P=function(){O.b.info("See you again soon...",{position:"top-center",autoClose:4e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},U=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogOut=function(){E(),P()},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{basic:!0},r.a.createElement(w.a,{secondary:!0,className:"nav"},r.a.createElement(s.b,{to:"/"},r.a.createElement(w.a.Item,null,"Home")),!f()&&r.a.createElement(s.b,{to:"/corpse-example"},r.a.createElement(w.a.Item,{as:"a"},"Meet a Corpse")),f()&&r.a.createElement(s.b,{to:"/drawing"},r.a.createElement(w.a.Item,{as:"a"},"Draw!")),f()&&r.a.createElement(s.b,{to:"/gallery"},r.a.createElement(w.a.Item,{as:"a"},"Gallery")),f()&&r.a.createElement(s.b,{to:"/corpse"},r.a.createElement(w.a.Item,{as:"a"},"Your Exquisite Corpse")),r.a.createElement(w.a.Menu,{position:"right"},r.a.createElement(S.a,{item:!0,simple:!0,text:"My Account"},r.a.createElement(S.a.Menu,null,f()&&r.a.createElement(s.b,{to:"/login"},r.a.createElement(S.a.Item,{as:"a",onClick:this.handleLogOut},"Logout")),!f()&&r.a.createElement(s.b,{to:"/login"},r.a.createElement(S.a.Item,{inverted:!0,as:"a"},"Login")),!f()&&r.a.createElement(s.b,{to:"/register"},r.a.createElement(S.a.Item,{inverted:!0,as:"a"},"Register"))))))),r.a.createElement(O.a,{style:{textAlign:"center"}}))}}]),a}(r.a.Component),D=Object(c.f)(U),I=a(22),F=a.n(I),A=a(37),B=a(27),H=a(112),L=a(539),T=a(85),q=a.n(T),G=function(){return{headers:{Authorization:"Bearer ".concat(g())}}},z=function(e){return q.a.post("/api/auth/login/",e)},R=function(e){return q.a.post("/api/auth/register/",e)},J=function(e){return q.a.post("/api/drawings/",e,G())},K=a(110),_=a.n(K),W=a(239),Y=a(7),Q=a.n(Y),V=function(e){var t=e.displayColorPicker,a=e.handleColorChange,n=e.handleColorClick,o=e.handleColorClose,l=e.color,s=Q()({default:{color:{width:"50px",height:"50px",borderRadius:"50%",background:l},swatch:{padding:"5px",background:"#fff",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return r.a.createElement("div",{className:"color-swatch"},r.a.createElement("div",{style:s.swatch,onClick:n},r.a.createElement("div",{style:s.color})),t?r.a.createElement("div",{style:s.popover},r.a.createElement("div",{style:s.cover,onClick:o}),r.a.createElement(W.SketchPicker,{color:l,onChange:a})):null)},X=a(242),Z=a(527),$=a(545),ee=a(540),te=a(83),ae=a(538),ne=function(e){var t=e.data,a=e.modalIsOpen,n=e.openModal,o=e.closeModal,l=e.handleCatChange,s=e.handleTitleChange,c=e.handleSaveImg;return r.a.createElement(i.a,{textAlign:"center",className:"save-drawing"},r.a.createElement(Z.a,{onClick:n},r.a.createElement("h3",{className:"crimson-s"},"Save")),r.a.createElement(_.a,{isOpen:a,onRequestClose:o,style:{content:{top:"30%",left:"30%",right:"30%",bottom:"30%"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)"}}},r.a.createElement($.a,{verticalAlign:"middle",columns:1,centered:!0},r.a.createElement($.a.Column,{textAlign:"center"},r.a.createElement(ee.a,{className:"modal-form"},r.a.createElement("h3",{className:"crimson-s-form"},"What did you draw?"),r.a.createElement("div",{className:"radio-buttons"},r.a.createElement("h4",{className:"crimson-s-form"},"...",r.a.createElement("b",{className:"crimson-s-form"},t.category)),r.a.createElement(te.a,{size:"large"},r.a.createElement("p",{className:"crimson-s-form"},"Head")),r.a.createElement(ae.a,{type:"radio",value:"Head",checked:"Head"===t.category,onChange:l}),r.a.createElement(te.a,{size:"large"},r.a.createElement("p",{className:"crimson-s-form"},"Body")),r.a.createElement(ae.a,{type:"radio",value:"Body",checked:"Body"===t.category,onChange:l}),r.a.createElement(te.a,{size:"large"},r.a.createElement("p",{className:"crimson-s-form"},"Feet")),r.a.createElement(ae.a,{type:"radio",value:"Feet",checked:"Feet"===t.category,onChange:l})),r.a.createElement(L.a,{horizontal:!0,section:!0},"&"),r.a.createElement(ee.a.Field,null,""===t.category?r.a.createElement("h4",{className:"crimson-s-form"},"Give them a name.."):null,"Head"===t.category?r.a.createElement("h4",{className:"crimson-s-form"},"Give them their First name:"):null,"Body"===t.category?r.a.createElement("h4",{className:"crimson-s-form"},"Give them their Middle name:"):null,"Feet"===t.category?r.a.createElement("h4",{className:"crimson-s-form"},"Give them their Last name"):null,r.a.createElement(ee.a.Input,{type:"text",name:"title",value:t.title,onChange:s})),r.a.createElement(Z.a,{type:"submit",onClick:c},r.a.createElement("p",{className:"crimson-s-form"},"Save")))))))},re=function(e){return r.a.createElement("div",{className:"color-options"},r.a.createElement("button",{className:"color-option black",value:"#000000",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option grey",value:"#7d7d7d",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option red",value:"#ff2f2f",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option pink",value:"#ff8ac1",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option yellow",value:"#fce641",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option orange",value:"#fa7731",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option turquoise",value:"#8efaf0",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option light-blue",value:"#5a91f0",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option dark-blue",value:"#5a91f0",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option purple",value:"#9142ff",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option light-green",value:"#81f76a",onClick:e.handleColorSwatches}),r.a.createElement("button",{className:"color-option dark-green",value:"#24960e",onClick:e.handleColorSwatches}))},oe=a(241),le=a.n(oe);_.a.setAppElement("#root");var se=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={drawingURL:null,isDrawing:!1,eraser:!1,globalCompositeOperation:"source-over",paintCursor:"url(http://www.rw-designer.com/cursor-extern.php?id=125360/), auto",eraserCursor:"url(http://www.rw-designer.com/cursor-extern.php?id=72976/), auto",cursor:"",displayColorPicker:!1,color:"#000000",brushSlider:6,data:{title:"",url:"",category:""},modalIsOpen:!1},e.handleMouseDown=function(){e.setState({isDrawing:!0});var t=e.image.getStage();e.lastPointerPosition=t.getPointerPosition()},e.handleMouseUp=function(){e.setState({isDrawing:!1})},e.handleMouseMove=function(){var t=e.state,a=t.context;if(t.isDrawing){var n=e.image.getStage().getPointerPosition();a.beginPath();var r={x:e.lastPointerPosition.x-e.image.x(),y:e.lastPointerPosition.y-e.image.y()};a.moveTo(r.x,r.y),r={x:n.x-e.image.x(),y:n.y-e.image.y()},a.strokeStyle=e.state.color,a.lineJoin="round",a.lineWidth=e.state.brushSlider,a.globalCompositeOperation=e.state.globalCompositeOperation,a.lineTo(r.x,r.y),a.closePath(),a.stroke(),e.lastPointerPosition=n,e.image.getLayer().batchDraw()}},e.handleButtonSelection=function(t){return"eraser"===t.target.value?e.setState({globalCompositeOperation:"destination-out",cursor:e.state.eraserCursor}):e.setState({globalCompositeOperation:"source-over",cursor:e.state.paintCursor})},e.handleColorClick=function(){e.setState({displayColorPicker:!e.state.displayColorPicker,cursor:e.state.paintCursor,globalCompositeOperation:"source-over"})},e.handleColorClose=function(){e.setState({displayColorPicker:!1})},e.handleColorChange=function(t){e.setState({color:t.hex})},e.handleChangeComplete=function(t){e.setState({background:t.hex})},e.handleColorSwatches=function(t){e.setState({color:t.target.value,globalCompositeOperation:"source-over",cursor:e.state.paintCursor})},e.handleKeys=function(t){var a=Math.floor(255*Math.random()),n=Math.floor(255*Math.random()),r=Math.floor(255*Math.random());if("space"===t)return e.setState({color:"rgb(".concat(a,",").concat(n,",").concat(r,")")});if("left"===t&&e.state.brushSlider>1){var o=e.state.brushSlider-5;return e.setState({brushSlider:o})}if("right"===t&&e.state.brushSlider<40){var l=e.state.brushSlider+5;return e.setState({brushSlider:l})}},e.handleTitleChange=function(t){var a=Object(B.a)(Object(B.a)({},e.state.data),{},{title:t.target.value});e.setState({data:a})},e.handleCatChange=function(t){var a=Object(B.a)(Object(B.a)({},e.state.data),{},{category:t.target.value});e.setState({data:a})},e.handleSaveImg=Object(A.a)(F.a.mark((function t(){var a,n,r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.image.getStage(),n=a.toDataURL(),r=Object(B.a)({},e.state.data),e.setState({data:r}),t.prev=4,t.next=7,J({data:r,url:n,category:e.state.data.category,title:e.state.data.title});case 7:e.props.history.push("/corpse/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),M("Choose part and name to save...");case 13:case"end":return t.stop()}}),t,null,[[4,10]])}))),e.openModal=function(){e.setState({modalIsOpen:!0})},e.closeModal=function(){e.setState({modalIsOpen:!1})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=document.createElement("canvas"),t=e.getContext("2d");e.width=700,e.height=700,this.setState({canvas:e,context:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.canvas,n=t.color,o=t.brushSlider,l=t.displayColorPicker,s=t.data,c=t.modalIsOpen,m=t.cursor;return r.a.createElement(i.a,{textAlign:"center"},!f()&&r.a.createElement("div",null,r.a.createElement("h4",null,"Please Log In")),f()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"crimson"},"Draw a head, body or legs"),r.a.createElement(L.a,{hidden:!0}),r.a.createElement("div",{className:"drawing-wrapper"},r.a.createElement(re,{handleColorSwatches:this.handleColorSwatches}),r.a.createElement("div",{onContextMenu:function(e){return e.preventDefault()}},r.a.createElement(H.Stage,{width:700,height:700},r.a.createElement(H.Layer,null,r.a.createElement(H.Image,{image:a,ref:function(t){return e.image=t},width:700,height:700,onMouseEnter:function(e){e.target.getStage().container().style.cursor=m},onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove})))),r.a.createElement("div",{className:"controls-right"},r.a.createElement("div",{className:"slider"},r.a.createElement(X.a,{yreverse:!0,axis:"y",ystep:1,ymin:2,ymax:40,y:o,onChange:function(t){var a=t.y;return e.setState({brushSlider:parseInt(a.toFixed(100))})},styles:{active:{backgroundColor:n},thumb:{width:15,height:15,opacity:.8}}})),r.a.createElement(V,{color:n,handleColorClick:this.handleColorClick,displayColorPicker:l,handleColorClose:this.handleColorClose,handleColorChange:this.handleColorChange}),r.a.createElement("button",{value:"eraser",onClick:this.handleButtonSelection,className:"eraser draw-button"}),r.a.createElement("button",{value:"paintBrush",onClick:this.handleButtonSelection,className:"paint draw-button"}))),r.a.createElement(L.a,{hidden:!0}),r.a.createElement(ne,{data:s,modalIsOpen:c,handleCatChange:this.handleCatChange,openModal:this.openModal,closeModal:this.closeModal,handleTitleChange:this.handleTitleChange,handleSaveImg:this.handleSaveImg}),r.a.createElement(O.a,{style:{textAlign:"center"}}),r.a.createElement(le.a,{handleKeys:["space","right","left"],onKeyEvent:function(t){return e.handleKeys(t)}})))}}]),a}(r.a.Component),ce=a(246),ie=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(A.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/drawings/");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({data:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(i.a,{textAlign:"center"},!f()&&r.a.createElement("div",null,r.a.createElement("h4",null,"Please Log In")),f()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"crimson"},"The Previous Corpses"),r.a.createElement(L.a,{hidden:!0}),r.a.createElement(L.a,{hidden:!0}),r.a.createElement($.a,{container:!0,relaxed:!0,columns:4},this.state.data.map((function(e){return r.a.createElement($.a.Column,{key:e.id,className:"gallery-item",src:e.url},r.a.createElement(ce.a,{src:e.url}),r.a.createElement("h3",null,e.title),r.a.createElement("h5",null,e.category),r.a.createElement("p",null,"By ",e.owner.username))})))))}}]),a}(r.a.Component),me=a(52),ue=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{email:"",password:""},errors:{}},e.handleChange=function(t){var a=Object(B.a)(Object(B.a)({},e.state.data),{},Object(me.a)({},t.target.name,t.target.value)),n=Object(B.a)(Object(B.a)({},e.state.errors),{},Object(me.a)({},t.target.name,""));e.setState({data:a,errors:n})},e.handleSubmit=function(){var t=Object(A.a)(F.a.mark((function t(a){var n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,z(e.state.data);case 4:n=t.sent,p(n.data.token),k(n.data.message),e.props.history.push("/drawing/"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),e.setState({errors:t.t0.response.data}),N("".concat(e.state.errors.message,", try again."));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{textAlign:"center"},r.a.createElement(ee.a,null,r.a.createElement("h1",{className:"crimson"},"Login"),r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Email"),r.a.createElement(ee.a.Input,{error:!!a.message&&a.message,placeholder:"Email",name:"email",value:t.email,onChange:this.handleChange})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{label:"password"},"Password"),r.a.createElement(ee.a.Input,{error:!!a.message&&a.message,placeholder:"Password",name:"password",type:"password",value:t.password,onChange:this.handleChange})),r.a.createElement(Z.a,{type:"submit",onClick:this.handleSubmit},r.a.createElement("p",{className:"crimson-header-small"},"Submit")),r.a.createElement("p",null,"Not registered?",r.a.createElement(s.b,{to:"/register"}," Create an account")))),r.a.createElement(O.a,{style:{textAlign:"center"}}))}}]),a}(r.a.Component),de=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{username:"",email:"",password:"",password_confirmation:""},errors:{}},e.handleChange=function(t){var a=Object(B.a)(Object(B.a)({},e.state.data),{},Object(me.a)({},t.target.name,t.target.value)),n=Object(B.a)(Object(B.a)({},e.state.errors),{},Object(me.a)({},t.target.name,""));e.setState({data:a,errors:n})},e.handleSubmit=function(){var t=Object(A.a)(F.a.mark((function t(a){var n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,R(e.state.data);case 4:n=t.sent,e.props.history.push("/login/"),x(n.data.message),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),j("Incorrect details, please try again"),e.setState({errors:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.errors;return r.a.createElement(C.a,{textAlign:"center"},r.a.createElement(ee.a,null,r.a.createElement("h1",{className:"crimson"},"Register"),r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Username:"),r.a.createElement(ee.a.Input,{error:!!a.username&&a.username,placeholder:"Username",name:"username",value:t.username,onChange:this.handleChange})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",null,"Email:"),r.a.createElement(ee.a.Input,{error:!!a.email&&a.email,placeholder:"Email",name:"email",value:t.email,onChange:this.handleChange})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{label:"password"},"Password:"),r.a.createElement(ee.a.Input,{error:!!a.password&&a.password,placeholder:"Password",name:"password",type:"password",value:t.password,onChange:this.handleChange})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{label:"password"},"Password confirmation:"),r.a.createElement(ee.a.Input,{error:!!a.password_confirmation&&a.password_confirmation,placeholder:"Password confirmation",name:"password_confirmation",type:"password",value:t.passwordconfirmation,onChange:this.handleChange})),r.a.createElement(Z.a,{type:"submit",onClick:this.handleSubmit},r.a.createElement("p",{className:"crimson-s"},"Submit")),r.a.createElement("p",null,"Already registered?",r.a.createElement(s.b,{to:"/login"}," Login."))),r.a.createElement(O.a,{style:{textAlign:"center"}}))}}]),a}(r.a.Component),he=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[],currentUserData:[],latestUserDrawing:{},head:{},body:{},feet:{},headUser:"",bodyUser:"",feetUser:"",name:""},e.getUserPart=function(){var t=[];e.state.data.map((function(a){return a.owner.id===e.state.currentUserData.id&&t.push(a)}));var a=t[t.length-1];e.setState({latestUserDrawing:a})},e.getHead=function(){var t=[];e.state.data.map((function(e){return"Head"===e.category&&t.push(e)}));var a=Math.floor(Math.random()*t.length);e.setState({head:t[a]}),e.setState({headUser:e.state.head.owner.username})},e.getBody=function(){var t=[];e.state.data.map((function(e){return"Body"===e.category&&t.push(e)}));var a=Math.floor(Math.random()*t.length);e.setState({body:t[a]}),e.setState({bodyUser:e.state.body.owner.username})},e.getLegs=function(){var t=[];e.state.data.map((function(e){return"Feet"===e.category&&t.push(e)}));var a=Math.floor(Math.random()*t.length);e.setState({feet:t[a]}),e.setState({feetUser:e.state.feet.owner.username})},e.getName=function(){var t="",a="",n="";t="Head"===e.state.latestUserDrawing.category?e.state.latestUserDrawing.title:e.state.head.title,a="Body"===e.state.latestUserDrawing.category?e.state.latestUserDrawing.title:e.state.body.title,n="Feet"===e.state.latestUserDrawing.category?e.state.latestUserDrawing.title:e.state.feet.title;var r="".concat(t," ").concat(a," ").concat(n);e.setState({name:r})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(A.a)(F.a.mark((function e(){var t,a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/drawings/");case 2:return t=e.sent,e.next=5,q.a.get("/api/auth/user/",G());case 5:return a=e.sent,e.next=8,t.json();case 8:n=e.sent,this.setState({data:n}),this.setState({currentUserData:a.data}),this.getHead(),this.getBody(),this.getLegs(),this.getUserPart(),this.getName();case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.head,a=e.body,n=e.feet,o=e.currentUserData,l=e.latestUserDrawing,s=e.headUser,c=e.bodyUser,m=e.feetUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{textAlign:"center"},!f()&&r.a.createElement("div",null,r.a.createElement("h4",null,"Please Log In")),f()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"crimson-s"},"Welcome your Exquisite Corpse..."),r.a.createElement("h3",{className:"crimson-s-light"},this.state.name),r.a.createElement(L.a,{hidden:!0}),r.a.createElement("div",null,r.a.createElement(ce.a,{className:"corpse-img",src:"Head"===l.category?l.url:t.url,centered:!0})),r.a.createElement("div",null,r.a.createElement(ce.a,{className:"corpse-img",src:"Body"===l.category?l.url:a.url,centered:!0})),r.a.createElement("div",null,r.a.createElement(ce.a,{className:"corpse-img",src:"Feet"===l.category?l.url:n.url,centered:!0})),r.a.createElement(C.a,{basic:!0,textAlign:"center"},r.a.createElement("h4",{className:"crimson-s-light-i"},"Head by ","Head"===l.category?o.username:s,", body by ","Body"===l.category?o.username:c,", and feet by ","Feet"===l.category?o.username:m)))))}}]),a}(r.a.Component),pe=a(245),ge=a.n(pe),Ee=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[],head:{},body:{},feet:{},headUser:"",bodyUser:"",feetUser:"",name:"",loading:!0},e.getHead=function(){var t=[];e.state.data.map((function(e){return"Head"===e.category&&t.push(e)}));var a=Math.floor(Math.random()*t.length);e.setState({head:t[a]}),e.setState({headUser:e.state.head.owner.username})},e.getBody=function(){var t=[];e.state.data.map((function(e){return"Body"===e.category&&t.push(e)}));var a=Math.floor(Math.random()*t.length);e.setState({body:t[a]}),e.setState({bodyUser:e.state.body.owner.username})},e.getLegs=function(){var t=[];e.state.data.map((function(e){return"Feet"===e.category&&t.push(e)}));var a=Math.floor(Math.random()*t.length);e.setState({feet:t[a]}),e.setState({feetUser:e.state.feet.owner.username})},e.getName=function(){var t=e.state.head.title,a=e.state.body.title,n=e.state.feet.title,r="".concat(t," ").concat(a," ").concat(n);e.setState({name:r})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(A.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/drawings/");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({data:a,loading:!1}),this.getHead(),this.getBody(),this.getLegs(),this.getName();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.head,a=e.body,n=e.feet,o=e.headUser,l=e.bodyUser,s=e.feetUser,c=e.loading;return console.log(this.state.loading),!0===c?r.a.createElement("div",{className:"homepage"},r.a.createElement(ge.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{textAlign:"center"},r.a.createElement("h3",{className:"crimson-s"},"An Exquisite Corpse,"),r.a.createElement("h3",{className:"crimson-s-light"},this.state.name),r.a.createElement(L.a,{hidden:!0}),r.a.createElement("div",null,r.a.createElement(ce.a,{className:"corpse-img",src:t.url,centered:!0})),r.a.createElement("div",null,r.a.createElement(ce.a,{className:"corpse-img",src:a.url,centered:!0})),r.a.createElement("div",null,r.a.createElement(ce.a,{className:"corpse-img",src:n.url,centered:!0}))),r.a.createElement(C.a,{basic:!0,textAlign:"center"},r.a.createElement("h4",{className:"crimson-s-light-i"},"Head by ",o,", body by ",l,", and feet by ",s)))}}]),a}(r.a.Component),fe=function(){return r.a.createElement(i.a,{text:!0,textAlign:"center"},r.a.createElement("h1",null,"Oops, nothing to see here...."),r.a.createElement(s.b,{to:"/"},r.a.createElement(Z.a,null,"Go Home...")))},ve=function(){return r.a.createElement(s.a,null,r.a.createElement(D,null),r.a.createElement(i.a,{style:{marginTop:"2.5em"}},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:y}),r.a.createElement(c.a,{path:"/drawing",component:se}),r.a.createElement(c.a,{path:"/gallery",component:ie}),r.a.createElement(c.a,{path:"/corpse",component:he}),r.a.createElement(c.a,{path:"/corpse-example",component:Ee}),r.a.createElement(c.a,{path:"/login",component:ue}),r.a.createElement(c.a,{path:"/register",component:de}),r.a.createElement(c.a,{path:"*",component:fe}))))};l.a.render(r.a.createElement(ve,null),document.getElementById("root"))}},[[259,1,2]]]);
//# sourceMappingURL=main.07e621c7.chunk.js.map